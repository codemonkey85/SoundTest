<PageTitle>Sound Test</PageTitle>
<h3>Sound Test</h3>

<div>
    <label for="typeInput">Type</label>
    <select id="typeInput"
            @bind="Type">
        @foreach (var t in Enum.GetValues<Types>())
        {
            <option value="@t">@t.ToString()</option>
        }
    </select>
</div>

<div>
    <label for="frequencyInput">Frequency</label>
    <input id="frequencyInput"
           type="range"
           min="@MinFrequency"
           max="@MaxFrequency"
           @bind="Frequency"
           @bind:event="oninput" />
    <label>Frequency=@Frequency.ToString()</label>
</div>

<div>
    <button id="startStopButton"
            class="btn btn-primary"
            @onclick="@(isPlaying ? StopPlaying : StartPlaying)">
        @(isPlaying ? "Stop" : "Start")
    </button>
    <button id="comfortButton"
            class="btn btn-secondary"
            @onclick="SetComfortableToneAsync">
        Comfortable Tone
    </button>
</div>

@if (AudioDevices is { Count: > 0 })
{
    <div>
        <select @bind="@SelectedDeviceId" @bind:after="@AudioDeviceChanged">
            @foreach (var device in AudioDevices)
            {
                if (device is { DeviceId: not null, Label: not null })
                {
                    if (device.IsDefault is true)
                    {
                        <option value="@device.DeviceId" selected>
                            @device.Label
                        </option>
                    }
                    else
                    {
                        <option value="@device.DeviceId">
                            @device.Label
                        </option>
                    }
                }
            }
        </select>
    </div>
}

<div>
    <label for="soundLink">Sound Link:</label>
    <br />
    <label id="soundLink">@soundLink</label>
    <button id="copySoundLinkButton"
            class="btn btn-primary"
            @onclick="CopySoundLink">
        Copy
    </button>
</div>
